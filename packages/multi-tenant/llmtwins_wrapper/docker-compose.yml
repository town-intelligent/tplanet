version: "3.8"

services:
  llmtwins-wrapper:
    container_name: llmtwins-wrapper-multi-tenant
    build: .
    ports:
      - "8004:8001"
    environment:
      - LLMTWINS_BASE_URL=http://llmtwins-api:8002
      - DEFAULT_TENANT=default
      - TENANT_HEADER=X-Tenant-ID
      - VALID_TENANTS=default,nantou-gov
      - UPSTREAM_TIMEOUT=180
    restart: unless-stopped
    networks:
      - llmtwins_default

networks:
  llmtwins_default:
    external: true
